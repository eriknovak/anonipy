<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The overview of the implemented extractors.
"><meta name=author content="Erik Novak"><link href=../generators-overview/ rel=prev><link href=../../16/anonymizing-documents/ rel=next><link rel=icon href=../../../../../assets/imgs/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.0"><title>Extractors overview - Anonipy</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.618322db.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../css/extra.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#extractors-overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title=Anonipy class="md-header__button md-logo" aria-label=Anonipy data-md-component=logo> <img src=../../../../../assets/imgs/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Anonipy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Extractors overview </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/eriknovak/anonipy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> eriknovak/anonipy </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> How-To Guides </a> </li> <li class=md-tabs__item> <a href=../../../../../references/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../../../../changelog/ class=md-tabs__link> Changelog </a> </li> <li class=md-tabs__item> <a href=../../../../../development/ class=md-tabs__link> Development </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title=Anonipy class="md-nav__button md-logo" aria-label=Anonipy data-md-component=logo> <img src=../../../../../assets/imgs/logo.png alt=logo> </a> Anonipy </label> <div class=md-nav__source> <a href=https://github.com/eriknovak/anonipy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> eriknovak/anonipy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../ class="md-nav__link "> <span class=md-ellipsis> How-To Guides </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> How-To Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../category/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/tutorial/ class=md-nav__link> <span class=md-ellipsis> Tutorial </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../../../../references/ class="md-nav__link "> <span class=md-ellipsis> API Reference </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__container"> <a href=../../../../../references/anonymize/ class="md-nav__link "> <span class=md-ellipsis> anonymize </span> </a> <label class="md-nav__link " for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> anonymize </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../references/anonymize/extractors/ class=md-nav__link> <span class=md-ellipsis> extractors </span> </a> </li> <li class=md-nav__item> <a href=../../../../../references/anonymize/generators/ class=md-nav__link> <span class=md-ellipsis> generators </span> </a> </li> <li class=md-nav__item> <a href=../../../../../references/anonymize/strategies/ class=md-nav__link> <span class=md-ellipsis> strategies </span> </a> </li> <li class=md-nav__item> <a href=../../../../../references/anonymize/pipeline/ class=md-nav__link> <span class=md-ellipsis> pipeline </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__container"> <a href=../../../../../references/utils/ class="md-nav__link "> <span class=md-ellipsis> utils </span> </a> <label class="md-nav__link " for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> utils </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../references/utils/regex/ class=md-nav__link> <span class=md-ellipsis> regex </span> </a> </li> <li class=md-nav__item> <a href=../../../../../references/utils/file_system/ class=md-nav__link> <span class=md-ellipsis> file_system </span> </a> </li> <li class=md-nav__item> <a href=../../../../../references/utils/language_detector/ class=md-nav__link> <span class=md-ellipsis> language_detector </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../references/definitions/ class=md-nav__link> <span class=md-ellipsis> definitions </span> </a> </li> <li class=md-nav__item> <a href=../../../../../references/constants/ class=md-nav__link> <span class=md-ellipsis> constants </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../../../../../development/ class=md-nav__link> <span class=md-ellipsis> Development </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> <span class=md-ellipsis> Pre-requisites </span> </a> </li> <li class=md-nav__item> <a href=#language-configuration class=md-nav__link> <span class=md-ellipsis> Language configuration </span> </a> <nav class=md-nav aria-label="Language configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-the-language-detector class=md-nav__link> <span class=md-ellipsis> Using the language detector </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#named-entity class=md-nav__link> <span class=md-ellipsis> Named Entity </span> </a> <nav class=md-nav aria-label="Named Entity"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#anonipy.definitions.Entity.get_regex_group class=md-nav__link> <span class=md-ellipsis> get_regex_group </span> </a> </li> <li class=md-nav__item> <a href=#anonipy.definitions.Entity.__str__ class=md-nav__link> <span class=md-ellipsis> __str__ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#extractors class=md-nav__link> <span class=md-ellipsis> Extractors </span> </a> <nav class=md-nav aria-label=Extractors> <ul class=md-nav__list> <li class=md-nav__item> <a href=#named-entity-recognition-ner-extractor class=md-nav__link> <span class=md-ellipsis> Named entity recognition (NER) extractor </span> </a> </li> <li class=md-nav__item> <a href=#pattern-extractor class=md-nav__link> <span class=md-ellipsis> Pattern extractor </span> </a> </li> <li class=md-nav__item> <a href=#multi-extractor class=md-nav__link> <span class=md-ellipsis> Multi extractor </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://avatars.githubusercontent.com/u/9943382 alt="Erik Novak"> </span> <span class=md-profile__description> <strong> <a href=https://github.com/eriknovak>Erik Novak</a> </strong> <br> Creator </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg> <time datetime="2024-07-15 00:00:00+00:00" class=md-ellipsis>July 15, 2024</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg> <span class=md-ellipsis> in <a href=../../../../category/overview/ >Overview</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg> <span class=md-ellipsis> 7 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <h1 id=extractors-overview>Extractors overview</h1> <p>In this post, we will show an overview of the implemented extractors. The extractors are used to extract relevant <code>named entities</code> from text. These entities can be people names, organizations, addresses, social security numbers, etc. The entities are then used to anonymize the text.</p> <p>All extractors and their API references are available in the <a class="autorefs autorefs-internal" title="<code>anonipy.anonymize.extractors</code>" href=../../../../../references/anonymize/extractors/#anonipy.anonymize.extractors>extractors</a> module. What follows is the presentation of the different extractors <code>anonipy</code> provides.</p> <!-- more --> <h2 id=pre-requisites>Pre-requisites</h2> <p>Let us first define the text, from which we want to extract the entities.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>original_text</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span><span class=se>\</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=s2>Medical Record</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=s2>Patient Name: John Doe</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=s2>Date of Birth: 15-01-1985</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=s2>Date of Examination: 20-05-2024</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=s2>Social Security Number: 123-45-6789</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=s2>Examination Procedure:</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=s2>John Doe underwent a routine physical examination. The procedure included measuring vital signs (blood pressure, heart rate, temperature), a comprehensive blood panel, and a cardiovascular stress test. The patient also reported occasional headaches and dizziness, prompting a neurological assessment and an MRI scan to rule out any underlying issues.</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=s2>Medication Prescribed:</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=s2>Ibuprofen 200 mg: Take one tablet every 6-8 hours as needed for headache and pain relief.</span>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=s2>Lisinopril 10 mg: Take one tablet daily to manage high blood pressure.</span>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=s2>Next Examination Date:</span>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=s2>15-11-2024</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=s2>&quot;&quot;&quot;</span>
</code></pre></div> <h2 id=language-configuration>Language configuration</h2> <p>Each extractor requires a language to be configured. The language is used to determine how to process the text. If the language is not specified, the extractor will use the default language. The default language is <code>ENGLISH</code>.</p> <p>To make it easier to switch languages, we can use the <a class="autorefs autorefs-internal" href=../../../../../references/constants/#anonipy.constants.LANGUAGES>LANGUAGES</a> constant.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kn>from</span><span class=w> </span><span class=nn>anonipy.constants</span><span class=w> </span><span class=kn>import</span> <span class=n>LANGUAGES</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>LANGUAGE</span><span class=o>.</span><span class=n>ENGLISH</span><span class=c1># (1)!</span>
</code></pre></div> <ol> <li>The <code>LANGUAGE.ENGLISH</code> return the <code>("en", "English")</code> literal tuple, which is the format required by the extractors.</li> </ol> <h3 id=using-the-language-detector>Using the language detector</h3> <p>An alternative is to use a language detector available in the <a class="autorefs autorefs-internal" title="<code>anonipy.utils.language_detector</code>" href=../../../../../references/utils/language_detector/#anonipy.utils.language_detector>language_detector</a> module. The detector utilizes the <a href=https://github.com/pemistahl/lingua-py>lingua</a> python package, and allows automatic detection of the language of the text.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kn>from</span><span class=w> </span><span class=nn>anonipy.utils.language_detector</span><span class=w> </span><span class=kn>import</span> <span class=n>LanguageDetector</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=c1># initialize the language detector and detect the language</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=n>language_detector</span> <span class=o>=</span> <span class=n>LanguageDetector</span><span class=p>()</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=n>language_detector</span><span class=p>(</span><span class=n>original_text</span><span class=p>)</span><span class=c1># (1)!</span>
</code></pre></div> <ol> <li>The <code>language_detector</code> returns the literal tuple <code>("en", "English")</code>, similar to the <code>LANGUAGE.ENGLISH</code>, making it compatible with the extractors.</li> </ol> <h2 id=named-entity>Named Entity</h2> <p>Each extractor will extract the <code>named entities</code> from the text. The entities can be people names, organizations, addresses, social security numbers, etc. The entities are represented using the <a class="autorefs autorefs-internal" title='<code>Entity</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>' href=../../../../../references/definitions/#anonipy.definitions.Entity>Entity</a> dataclass, which consists of the following parameters:</p> <div class="doc doc-object doc-class"> <div class="doc doc-contents first"> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=anonipy.definitions.Entity.text>text</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The text of the entity.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.definitions.Entity.label>label</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The label of the entity.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.definitions.Entity.start_index>start_index</span></code></td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The start index of the entity in the text.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.definitions.Entity.end_index>end_index</span></code></td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The end index of the entity in the text.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.definitions.Entity.score>score</span></code></td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>The prediction score of the entity. The score is returned by the extractor models.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.definitions.Entity.type>type</span></code></td> <td> <code><a class="autorefs autorefs-internal" title="<code>ENTITY_TYPES</code> (<code>anonipy.constants.ENTITY_TYPES</code>)" href=../../../../../references/constants/#anonipy.constants.ENTITY_TYPES>ENTITY_TYPES</a></code> </td> <td> <div class=doc-md-description> <p>The type of the entity.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.definitions.Entity.regex>regex</span></code></td> <td> <code><span title=typing.Union>Union</span>[<span title=str>str</span>, <span title=re.Pattern>Pattern</span>]</code> </td> <td> <div class=doc-md-description> <p>The regular expression the entity must match.</p> </div> </td> </tr> </tbody> </table> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=anonipy.definitions.Entity.get_regex_group class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_regex_group</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Union>Union</span>[<span title=str>str</span>, None]</code> </td> <td> <div class=doc-md-description> <p>The regex group.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=anonipy.definitions.Entity.__str__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__str__</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The string representation of the entity.</p> </div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div><h2 id=extractors>Extractors</h2> <p>All following extractors are available in the <a class="autorefs autorefs-internal" title="<code>anonipy.anonymize.extractors</code>" href=../../../../../references/anonymize/extractors/#anonipy.anonymize.extractors>extractors</a> module.</p> <h3 id=named-entity-recognition-ner-extractor>Named entity recognition (NER) extractor</h3> <p>The <a class="autorefs autorefs-internal" title="<code>anonipy.anonymize.extractors.NERExtractor</code>" href=../../../../../references/anonymize/extractors/#anonipy.anonymize.extractors.NERExtractor>NERExtractor</a> extractor uses a span-based NER model to identify the relevant entities in the text. Furthermore, it uses the <a href=https://github.com/urchade/GLiNER>GLiNER</a> span-based NER model, specifically the model finetuned for recognizing Personal Identifiable Information (PII) within text. The model has been finetuned on six languages (English, French, German, Spanish, Italian, and Portuguese), but can be applied also to other languages.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=kn>from</span><span class=w> </span><span class=nn>anonipy.anonymize.extractors</span><span class=w> </span><span class=kn>import</span> <span class=n>NERExtractor</span>
</code></pre></div> <p>The <code>NERExtractor</code> takes the following input parameters:</p> <div class="doc doc-object doc-function"> <div class="doc doc-contents first"> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>labels</code> </td> <td> <code><span title=typing.List>List</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>The list of labels to extract.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>lang</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>LANGUAGES</code> (<code>anonipy.constants.LANGUAGES</code>)" href=../../../../../references/constants/#anonipy.constants.LANGUAGES>LANGUAGES</a></code> </td> <td> <div class=doc-md-description> <p>The language of the text to extract.</p> </div> </td> <td> <code><span title=anonipy.constants.LANGUAGES.ENGLISH>ENGLISH</span></code> </td> </tr> <tr class=doc-section-item> <td> <code>score_th</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>The score threshold. Entities with a score below this threshold will be ignored.</p> </div> </td> <td> <code>0.5</code> </td> </tr> <tr class=doc-section-item> <td> <code>use_gpu</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Whether to use GPU.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>gliner_model</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The gliner model to use to identify the entities.</p> </div> </td> <td> <code>&#39;E3-JSI/gliner-multi-pii-domains-v1&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>spacy_style</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The style the entities should be stored in the spacy doc. Options: <code>ent</code> or <code>span</code>.</p> </div> </td> <td> <code>&#39;ent&#39;</code> </td> </tr> </tbody> </table> </div> </div><p>We must define the labels to be extracted and their types. In this example, we will extract the following entities:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>labels</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;string&quot;</span><span class=p>},</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;social security number&quot;</span><span class=p>,</span> <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;custom&quot;</span><span class=p>,</span> <span class=s2>&quot;regex&quot;</span><span class=p>:</span> <span class=s2>&quot;[0-9]</span><span class=si>{3}</span><span class=s2>-[0-9]</span><span class=si>{2}</span><span class=s2>-[0-9]</span><span class=si>{4}</span><span class=s2>&quot;</span><span class=p>},</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;date of birth&quot;</span><span class=p>,</span> <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;date&quot;</span><span class=p>},</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;date&quot;</span><span class=p>,</span> <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;date&quot;</span><span class=p>},</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=p>]</span>
</code></pre></div> <p>Let us now initialize the entity extractor.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=n>ner_extractor</span> <span class=o>=</span> <span class=n>NERExtractor</span><span class=p>(</span><span class=n>labels</span><span class=p>,</span> <span class=n>lang</span><span class=o>=</span><span class=n>LANGUAGES</span><span class=o>.</span><span class=n>ENGLISH</span><span class=p>,</span> <span class=n>score_th</span><span class=o>=</span><span class=mf>0.5</span><span class=p>)</span>
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Initialization warnings</p> <p>The initialization of <code>NERExtractor</code> will throw some warnings. Ignore them. These are expected due to the use of package dependencies.</p> </div> <p>The <code>NERExtractor</code> receives the text to be anonymized and returns the enriched text document and the extracted entities.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>doc</span><span class=p>,</span> <span class=n>entities</span> <span class=o>=</span> <span class=n>ner_extractor</span><span class=p>(</span><span class=n>original_text</span><span class=p>)</span>
</code></pre></div> <p>The entities extracted within the input text are:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>ner_extractor</span><span class=o>.</span><span class=n>display</span><span class=p>(</span><span class=n>doc</span><span class=p>)</span>
</code></pre></div> <div class="md-typeset admonition tip" style="line-height: 2.5; direction: ltr; padding: .6rem; border: .05rem solid var(--md-typeset-table-color);">Medical Record<br><br>Patient Name: <mark class=entity style="background: #308774; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> John Doe <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">name</span> </mark> <br>Date of Birth: <mark class=entity style="background: #6706D7; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> 15-01-1985 <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">date of birth</span> </mark> <br>Date of Examination: <mark class=entity style="background: #E805DA; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> 20-05-2024 <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">date</span> </mark> <br>Social Security Number: <mark class=entity style="background: #32D102; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> 123-45-6789 <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">social security number</span> </mark> <br><br>Examination Procedure:<br> <mark class=entity style="background: #308774; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> John Doe <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">name</span> </mark> underwent a routine physical examination. The procedure included measuring vital signs (blood pressure, heart rate, temperature), a comprehensive blood panel, and a cardiovascular stress test. The patient also reported occasional headaches and dizziness, prompting a neurological assessment and an MRI scan to rule out any underlying issues.<br><br>Medication Prescribed:<br><br>Ibuprofen 200 mg: Take one tablet every 6-8 hours as needed for headache and pain relief.<br>Lisinopril 10 mg: Take one tablet daily to manage high blood pressure.<br>Next Examination Date:<br> <mark class=entity style="background: #E805DA; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> 15-11-2024 <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">date</span> </mark> </div> <p><strong>Advices and suggestions</strong></p> <p><strong>Use specific label names.</strong> In the above example, we used specific label names to extract the entities. If we use a less specific name, the entity extractor might not find any relevant entity.</p> <p>For instance, when using <code>social security number</code> as the label name, the entity extractor is able to extract the social security number from the text. However, if we use <code>ssn</code> or just <code>number</code> as the label name, the entity extractor might not find any relevant entity.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Using more specific label names is better.</p> </div> <p><strong>Use custom regex patterns.</strong> In the <code>anonipy</code> package, we provide some predefined <a class="autorefs autorefs-internal" href=../../../../../references/constants/#anonipy.constants.ENTITY_TYPES>ENTITY_TYPES</a>, which are:</p> <div class="doc doc-object doc-class"> <div class="doc doc-contents first"> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=anonipy.constants.ENTITY_TYPES.CUSTOM>CUSTOM</span></code></td> <td> <code><span title=Literal>Literal</span>[<span title=custom>custom</span>]</code> </td> <td> <div class=doc-md-description> <p>The custom entity type.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.constants.ENTITY_TYPES.STRING>STRING</span></code></td> <td> <code><span title=Literal>Literal</span>[<span title=string>string</span>]</code> </td> <td> <div class=doc-md-description> <p>The string entity type.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.constants.ENTITY_TYPES.INTEGER>INTEGER</span></code></td> <td> <code><span title=Literal>Literal</span>[<span title=integer>integer</span>]</code> </td> <td> <div class=doc-md-description> <p>The integer entity type.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.constants.ENTITY_TYPES.FLOAT>FLOAT</span></code></td> <td> <code><span title=Literal>Literal</span>[<span title=float>float</span>]</code> </td> <td> <div class=doc-md-description> <p>The float entity type.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.constants.ENTITY_TYPES.DATE>DATE</span></code></td> <td> <code><span title=Literal>Literal</span>[<span title=date>date</span>]</code> </td> <td> <div class=doc-md-description> <p>The date entity type.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.constants.ENTITY_TYPES.EMAIL>EMAIL</span></code></td> <td> <code><span title=Literal>Literal</span>[<span title=email>email</span>]</code> </td> <td> <div class=doc-md-description> <p>The email entity type.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.constants.ENTITY_TYPES.WEBSITE_URL>WEBSITE_URL</span></code></td> <td> <code><span title=Literal>Literal</span>[<span title=website_url>website_url</span>]</code> </td> <td> <div class=doc-md-description> <p>The website url entity type.</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=anonipy.constants.ENTITY_TYPES.PHONE_NUMBER>PHONE_NUMBER</span></code></td> <td> <code><span title=Literal>Literal</span>[<span title=phone_number>phone_number</span>]</code> </td> <td> <div class=doc-md-description> <p>The phone number entity type.</p> </div> </td> </tr> </tbody> </table> <div class="doc doc-children"> </div> </div> </div><p>These entity types also have a corresponding regex pattern, as defined in the <a class="autorefs autorefs-internal" title="<code>anonipy.utils.regex</code>" href=../../../../../references/utils/regex/#anonipy.utils.regex>regex</a> submodule.</p> <p>If the user wants to use a custom regex pattern, they can define it in the <code>labels</code> variable list. Using a custom regex pattern allows the user to specify a more strict pattern that the entity must match.</p> <h3 id=pattern-extractor>Pattern extractor</h3> <p>The <a class="autorefs autorefs-internal" title="<code>anonipy.anonymize.extractors.PatternExtractor</code>" href=../../../../../references/anonymize/extractors/#anonipy.anonymize.extractors.PatternExtractor>PatternExtractor</a> is an extractor that uses a custom spacy and regex pattern to extract entities. When documents have a consistent format and structure, the pattern extractor can be useful, as it can extract entities in a consistent way.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kn>from</span><span class=w> </span><span class=nn>anonipy.anonymize.extractors</span><span class=w> </span><span class=kn>import</span> <span class=n>PatternExtractor</span>
</code></pre></div> <p>The <code>PatternExtractor</code> takes the following parameters:</p> <div class="doc doc-object doc-function"> <div class="doc doc-contents first"> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>labels</code> </td> <td> <code><span title=typing.List>List</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>The list of labels and patterns to extract.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>lang</code> </td> <td> <code><a class="autorefs autorefs-internal" title="<code>LANGUAGES</code> (<code>anonipy.constants.LANGUAGES</code>)" href=../../../../../references/constants/#anonipy.constants.LANGUAGES>LANGUAGES</a></code> </td> <td> <div class=doc-md-description> <p>The language of the text to extract.</p> </div> </td> <td> <code><span title=anonipy.constants.LANGUAGES.ENGLISH>ENGLISH</span></code> </td> </tr> <tr class=doc-section-item> <td> <code>spacy_style</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The style the entities should be stored in the spacy doc. Options: <code>ent</code> or <code>span</code>.</p> </div> </td> <td> <code>&#39;ent&#39;</code> </td> </tr> </tbody> </table> </div> </div><p>We must define the labels and their patterns used to extract the relevant entities. The patterns are defined using <a href=https://spacy.io/usage/rule-based-matching/ >spacy patterns</a> or <a href=https://docs.python.org/3/library/re.html>regex patterns</a>.</p> <p>In this example, we will use the following labels and patterns:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=n>labels</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>    <span class=c1># the pattern is defined using regex patterns, where the paranthesis are used to indicate core entity values</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    <span class=p>{</span><span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;symptoms&quot;</span><span class=p>,</span> <span class=s2>&quot;regex&quot;</span><span class=p>:</span> <span class=sa>r</span><span class=s2>&quot;\((.*)\)&quot;</span><span class=p>},</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>    <span class=c1># the pattern is defined using spacy patterns</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>    <span class=p>{</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>        <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;medicine&quot;</span><span class=p>,</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>        <span class=s2>&quot;pattern&quot;</span><span class=p>:</span> <span class=p>[[{</span><span class=s2>&quot;IS_ALPHA&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>},</span> <span class=p>{</span><span class=s2>&quot;LIKE_NUM&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>},</span> <span class=p>{</span><span class=s2>&quot;LOWER&quot;</span><span class=p>:</span> <span class=s2>&quot;mg&quot;</span><span class=p>}]],</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>    <span class=p>},</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>    <span class=c1># the pattern is defined using spacy patterns</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>    <span class=p>{</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>        <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;date&quot;</span><span class=p>,</span>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>        <span class=s2>&quot;pattern&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>            <span class=p>[</span>
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>                <span class=p>{</span><span class=s2>&quot;SHAPE&quot;</span><span class=p>:</span> <span class=s2>&quot;dd&quot;</span><span class=p>},</span>
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>                <span class=p>{</span><span class=s2>&quot;TEXT&quot;</span><span class=p>:</span> <span class=s2>&quot;-&quot;</span><span class=p>},</span>
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>                <span class=p>{</span><span class=s2>&quot;SHAPE&quot;</span><span class=p>:</span> <span class=s2>&quot;dd&quot;</span><span class=p>},</span>
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>                <span class=p>{</span><span class=s2>&quot;TEXT&quot;</span><span class=p>:</span> <span class=s2>&quot;-&quot;</span><span class=p>},</span>
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>                <span class=p>{</span><span class=s2>&quot;SHAPE&quot;</span><span class=p>:</span> <span class=s2>&quot;dddd&quot;</span><span class=p>},</span>
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>            <span class=p>]</span>
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>        <span class=p>],</span>
<a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>    <span class=p>},</span>
<a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a><span class=p>]</span>
</code></pre></div> <p>Let us now initialize the pattern extractor.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>pattern_extractor</span> <span class=o>=</span> <span class=n>PatternExtractor</span><span class=p>(</span><span class=n>labels</span><span class=p>,</span> <span class=n>lang</span><span class=o>=</span><span class=n>LANGUAGES</span><span class=o>.</span><span class=n>ENGLISH</span><span class=p>)</span>
</code></pre></div> <p>The <code>PatternExtractor</code> receives the original text and returns the enriched text document and the extracted entities.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=n>doc</span><span class=p>,</span> <span class=n>entities</span> <span class=o>=</span> <span class=n>pattern_extractor</span><span class=p>(</span><span class=n>original_text</span><span class=p>)</span>
</code></pre></div> <p>The entities extracted within the input text are:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=n>pattern_extractor</span><span class=o>.</span><span class=n>display</span><span class=p>(</span><span class=n>doc</span><span class=p>)</span>
</code></pre></div> <div class="md-typeset admonition tip" style="line-height: 2.5; direction: ltr; padding: .6rem; border: .05rem solid var(--md-typeset-table-color);">Medical Record<br><br>Patient Name: John Doe<br>Date of Birth: <mark class=entity style="background: #E805DA; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> 15-01-1985 <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">date</span> </mark> <br>Date of Examination: <mark class=entity style="background: #E805DA; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> 20-05-2024 <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">date</span> </mark> <br>Social Security Number: 123-45-6789<br><br>Examination Procedure:<br>John Doe underwent a routine physical examination. The procedure included measuring vital signs ( <mark class=entity style="background: #846A32; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> blood pressure, heart rate, temperature <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">symptoms</span> </mark> ), a comprehensive blood panel, and a cardiovascular stress test. The patient also reported occasional headaches and dizziness, prompting a neurological assessment and an MRI scan to rule out any underlying issues.<br><br>Medication Prescribed:<br><br> <mark class=entity style="background: #C3BB81; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> Ibuprofen 200 mg <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">medicine</span> </mark> : Take one tablet every 6-8 hours as needed for headache and pain relief.<br> <mark class=entity style="background: #C3BB81; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> Lisinopril 10 mg <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">medicine</span> </mark> : Take one tablet daily to manage high blood pressure.<br>Next Examination Date:<br> <mark class=entity style="background: #E805DA; padding: 0.45em 0.6em; margin: 0 0.25em; line-height: 1; border-radius: 0.35em;"> 15-11-2024 <span style="font-size: 0.8em; font-weight: bold; line-height: 1; border-radius: 0.35em; vertical-align: middle; margin-left: 0.5rem">date</span> </mark> <br> </div> <h3 id=multi-extractor>Multi extractor</h3> <p>The <a class="autorefs autorefs-internal" title="<code>anonipy.anonymize.extractors.MultiExtractor</code>" href=../../../../../references/anonymize/extractors/#anonipy.anonymize.extractors.MultiExtractor>MultiExtractor</a> is a extractor that can be used to extract entities using multiple extractors.</p> <p>The motivation behind the multi extractor is the following: depending on the document format, personal information can be located in different locations; some of them can be found at similar places, while others can be found in different places and formats. Because of this, we would need to use the <a class="autorefs autorefs-internal" title="<code>anonipy.anonymize.extractors.NERExtractor</code>" href=../../../../../references/anonymize/extractors/#anonipy.anonymize.extractors.NERExtractor>NERExtractor</a> to automatically identify the entities at different locations and the <a class="autorefs autorefs-internal" title="<code>anonipy.anonymize.extractors.PatternExtractor</code>" href=../../../../../references/anonymize/extractors/#anonipy.anonymize.extractors.PatternExtractor>PatternExtractor</a> to extract the entities that appear at the same location.</p> <p><code>MultiExtractor</code> enables the use of both extractors at the same time. Furthermore, if both extractors identify entities at similar locations, then the <code>MultiExtractor</code> will also provide a list of joint entities.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=kn>from</span><span class=w> </span><span class=nn>anonipy.anonymize.extractors</span><span class=w> </span><span class=kn>import</span> <span class=n>MultiExtractor</span>
</code></pre></div> <p>The <code>MultiExtractor</code> takes the following parameters:</p> <div class="doc doc-object doc-function"> <div class="doc doc-contents first"> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>extractors</code> </td> <td> <code><span title=typing.List>List</span>[<a class="autorefs autorefs-internal" title="<code>anonipy.anonymize.extractors.ExtractorInterface</code> (<code>anonipy.anonymize.extractors.interface.ExtractorInterface</code>)" href=../../../../../references/anonymize/extractors/#anonipy.anonymize.extractors.ExtractorInterface>ExtractorInterface</a>]</code> </td> <td> <div class=doc-md-description> <p>The list of extractors to use.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> </div> </div><p>In this example, we will use the previously initialized NER and pattern extractors.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>multi_extractor</span> <span class=o>=</span> <span class=n>MultiExtractor</span><span class=p>(</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>  <span class=n>extractors</span><span class=o>=</span><span class=p>[</span><span class=n>ner_extractor</span><span class=p>,</span> <span class=n>pattern_extractor</span><span class=p>],</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=p>)</span>
</code></pre></div> <p>Similar as before, the <code>MultiExtractor</code> receives the original text, but returns the outputs of all the extractors, as well as the joint entities from all the extractors.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=n>extractor_outputs</span><span class=p>,</span> <span class=n>joint_entities</span> <span class=o>=</span> <span class=n>multi_extractor</span><span class=p>(</span><span class=n>original_text</span><span class=p>)</span>
</code></pre></div> <p>In this case, <code>extractor_outputs[0]</code> will contain the <code>(doc, entities)</code> from the NER extractor, and <code>extractor_outputs[1]</code> will contain the <code>(doc, entities)</code> from the pattern extractor. The <code>joint_entities</code> will contain the joint entities from all the extractors.</p> <h2 id=conclusion>Conclusion</h2> <p>The extractors are used to extract entities from the text. The <code>anonipy</code> package supports both machine learning-based and pattern-based entity extraction, enabling information identification and extraction from different textual formats.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="November 26, 2025 09:34:25 UTC">November 26, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="November 26, 2025 09:34:25 UTC">November 26, 2025</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../generators-overview/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Generators overview"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Generators overview </div> </div> </a> <a href=../../16/anonymizing-documents/ class="md-footer__link md-footer__link--next" aria-label="Next: Anonymizing documents"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Anonymizing documents </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../../../../..", "features": ["content.code.copy", "content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.footer", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../../assets/javascripts/bundle.e71a0d61.min.js></script> </body> </html>